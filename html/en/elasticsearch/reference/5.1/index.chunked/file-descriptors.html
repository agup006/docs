<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">File Descriptors
        | Elasticsearch Reference [5.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [5.1]" /><link rel="up" href="system-config.html" title="Important System Configuration" /><link rel="prev" href="setup-configuration-memory.html" title="Disable swapping" /><link rel="next" href="vm-max-map-count.html" title="Virtual memory" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/5.1" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [5.1]
    </a></span> » <span class="breadcrumb-link"><a href="setup.html">Setup Elasticsearch</a></span> » <span class="breadcrumb-link"><a href="system-config.html">Important System Configuration</a></span> » <span class="breadcrumb-node">File Descriptors</span></div><div xmlns="" class="navheader"><span class="prev"><a href="setup-configuration-memory.html">
              « 
              Disable swapping</a>
           
        </span><span class="next">
           
          <a href="vm-max-map-count.html">Virtual memory
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="file-descriptors"></a>File Descriptors<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/setup/sysconfig/file-descriptors.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div xmlns="" class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">This is only relevant for Linux and macOS and can be safely ignored if running
Elasticsearch on Windows. On Windows that JVM uses an
<a class="ulink" href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx" target="_top">API</a>
limited only by available resources.</p></div></div><p>Elasticsearch uses a lot of file descriptors or file handles.  Running out of
file descriptors can be disastrous and will most probably lead to data loss.
Make sure to increase the limit on the number of open files descriptors for
the user running Elasticsearch to 65,536 or higher.</p><p>For the <code class="literal">.zip</code> and <code class="literal">.tar.gz</code> packages, set <a class="link" href="setting-system-settings.html#ulimit" title="ulimit"><code class="literal">ulimit -n 65536</code></a> as
root before starting Elasticsearch,   or set <code class="literal">nofile</code> to <code class="literal">65536</code> in
<a class="link" href="setting-system-settings.html#limits.conf" title="/etc/security/limits.conf"><code class="literal">/etc/security/limits.conf</code></a>.</p><p>RPM and Debian packages already default the maximum number of file
descriptors to 65536 and do not require further configuration.</p><p>You can check the <code class="literal">max_file_descriptors</code> configured for each node
using the <a class="xref" href="cluster-nodes-stats.html" title="Nodes Stats"><em>Nodes Stats</em></a> API, with:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">GET _nodes/stats/process?filter_path=**.max_file_descriptors</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="setup-configuration-memory.html">
              « 
              Disable swapping</a>
           
        </span><span class="next">
           
          <a href="vm-max-map-count.html">Virtual memory
               »
            </a></span></div></body></html>