<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">_source field
        | Elasticsearch Reference [5.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [5.1]" /><link rel="up" href="mapping-fields.html" title="Meta-Fields" /><link rel="prev" href="mapping-routing-field.html" title="_routing field" /><link rel="next" href="mapping-type-field.html" title="_type field" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/5.1" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [5.1]
    </a></span> » <span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span> » <span class="breadcrumb-link"><a href="mapping-fields.html">Meta-Fields</a></span> » <span class="breadcrumb-node"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">_source</code> field</span></div><div xmlns="" class="navheader"><span class="prev"><a href="mapping-routing-field.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">_routing</code> field</a>
           
        </span><span class="next">
           
          <a href="mapping-type-field.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">_type</code> field
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="mapping-source-field"></a><code class="literal">_source</code> field<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/mapping/fields/source-field.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">_source</code> field contains the original JSON document body that was passed
at index time.  The <code class="literal">_source</code> field itself is not indexed (and thus is not
searchable), but it is stored so that it can be returned when executing
<span class="emphasis"><em>fetch</em></span> requests, like <a class="link" href="docs-get.html" title="Get API">get</a> or <a class="link" href="search-search.html" title="Search">search</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_disabling_the_literal__source_literal_field"></a>Disabling the <code class="literal">_source</code> field<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/mapping/fields/source-field.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Though very handy to have around, the source field does incur storage overhead
within the index. For this reason, it can be disabled as follows:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT tweets
{
  "mappings": {
    "tweet": {
      "_source": {
        "enabled": false
      }
    }
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><h3>Think before disabling the <code xmlns="http://www.w3.org/1999/xhtml" class="literal">_source</code> field</h3><p xmlns="http://www.w3.org/1999/xhtml">Users often disable the <code class="literal">_source</code> field without thinking about the
consequences, and then live to regret it.  If the <code class="literal">_source</code> field isn’t
available then a number of features are not supported:</p><div xmlns="http://www.w3.org/1999/xhtml" class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The <a class="link" href="docs-update.html" title="Update API"><code class="literal">update</code></a>, <a class="link" href="docs-update-by-query.html" title="Update By Query API"><code class="literal">update_by_query</code></a>,
and <a class="link" href="docs-reindex.html" title="Reindex API"><code class="literal">reindex</code></a> APIs.
</li><li class="listitem">
On the fly <a class="link" href="search-request-highlighting.html" title="Highlighting">highlighting</a>.
</li><li class="listitem">
The ability to reindex from one Elasticsearch index to another, either
  to change mappings or analysis, or to upgrade an index to a new major
  version.
</li><li class="listitem">
The ability to debug queries or aggregations by viewing the original
  document used at index time.
</li><li class="listitem">
Potentially in the future, the ability to repair index corruption
  automatically.
</li></ul></div></div></div><div xmlns="" class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">If disk space is a concern, rather increase the
<a class="link" href="index-modules.html#index-codec">compression level</a> instead of disabling the <code class="literal">_source</code>.</p></div></div><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>The metrics use case</strong></p></div></div></div><p>The <span class="emphasis"><em>metrics</em></span> use case is distinct from other time-based or logging use cases
in that there are many small documents which consist only of numbers, dates,
or keywords.  There are no updates, no highlighting requests, and the data
ages quickly so there is no need to reindex.  Search requests typically use
simple queries to filter the dataset by date or tags, and the results are
returned as aggregations.</p><p>In this case, disabling the <code class="literal">_source</code> field will save space and reduce I/O.
It is also advisable to disable the <a class="link" href="mapping-all-field.html" title="_all field"><code class="literal">_all</code> field</a> in the
metrics case.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="include-exclude"></a>Including / Excluding fields from <code class="literal">_source</code><a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/mapping/fields/source-field.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An expert-only feature is the ability to prune the contents of the <code class="literal">_source</code>
field after the document has been indexed, but before the <code class="literal">_source</code> field is
stored.</p><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Removing fields from the <code class="literal">_source</code> has similar downsides to disabling
<code class="literal">_source</code>, especially the fact that you cannot reindex documents from one
Elasticsearch index to another. Consider using
<a class="link" href="search-request-source-filtering.html" title="Source filtering">source filtering</a> instead.</p></div></div><p>The <code class="literal">includes</code>/<code class="literal">excludes</code> parameters (which also accept wildcards) can be used
as follows:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">PUT logs
{
  "mappings": {
    "event": {
      "_source": {
        "includes": [
          "*.count",
          "meta.*"
        ],
        "excludes": [
          "meta.description",
          "meta.other.*"
        ]
      }
    }
  }
}

PUT logs/event/1
{
  "requests": {
    "count": 10,
    "foo": "bar" <a id="CO194-1"></a><span xmlns=""><img src="images/icons/callouts/1.png" alt="" /></span>
  },
  "meta": {
    "name": "Some metric",
    "description": "Some metric description", <a id="CO194-2"></a><span xmlns=""><img src="images/icons/callouts/2.png" alt="" /></span>
    "other": {
      "foo": "one", <a id="CO194-3"></a><span xmlns=""><img src="images/icons/callouts/3.png" alt="" /></span>
      "baz": "two" <a id="CO194-4"></a><span xmlns=""><img src="images/icons/callouts/4.png" alt="" /></span>
    }
  }
}

GET logs/event/_search
{
  "query": {
    "match": {
      "meta.other.foo": "one" <a id="CO194-5"></a><span xmlns=""><img src="images/icons/callouts/5.png" alt="" /></span>
    }
  }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO194-1"><span xmlns=""><img src="images/icons/callouts/1.png" alt="" /></span></a> <a href="#CO194-2"><span xmlns=""><img src="images/icons/callouts/2.png" alt="" /></span></a> <a href="#CO194-3"><span xmlns=""><img src="images/icons/callouts/3.png" alt="" /></span></a> <a href="#CO194-4"><span xmlns=""><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
These fields will be removed from the stored <code class="literal">_source</code> field.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO194-5"><span xmlns=""><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
We can still search on this field, even though it is not in the stored <code class="literal">_source</code>.
</p></td></tr></table></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="mapping-routing-field.html">
              « 
              <code xmlns="http://www.w3.org/1999/xhtml" class="literal">_routing</code> field</a>
           
        </span><span class="next">
           
          <a href="mapping-type-field.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">_type</code> field
               »
            </a></span></div></body></html>