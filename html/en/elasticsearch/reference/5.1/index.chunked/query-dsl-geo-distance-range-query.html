<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Geo Distance Range Query
        | Elasticsearch Reference [5.1]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [5.1]" /><link rel="up" href="geo-queries.html" title="Geo queries" /><link rel="prev" href="query-dsl-geo-distance-query.html" title="Geo Distance Query" /><link rel="next" href="query-dsl-geo-polygon-query.html" title="Geo Polygon Query" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/5.1" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [5.1]
    </a></span> » <span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span> » <span class="breadcrumb-link"><a href="geo-queries.html">Geo queries</a></span> » <span class="breadcrumb-node">Geo Distance Range Query</span></div><div xmlns="" class="navheader"><span class="prev"><a href="query-dsl-geo-distance-query.html">
              « 
              Geo Distance Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-geo-polygon-query.html">Geo Polygon Query
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="query-dsl-geo-distance-range-query"></a>Geo Distance Range Query<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/query-dsl/geo-distance-range-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p><span xmlns="" class="deprecated">
      [<span class="version">5.0.0</span>]
      <span class="detail">Deprecated in 5.0.0. 
Elasticsearch will continue to support geo_distance_range queries on indexes created prior to 5.0.0. Range searches on indexes created in 5.0.0 and later will no longer be supported. Distance aggregations or sorting should be used instead.
</span></span></p><p>Filters documents that exists within a range from a specific point:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">GET /_search
{
    "query": {
        "bool" : {
            "must" : {
                "match_all" : {}
            },
            "filter" : {
                "geo_distance_range" : {
                    "from" : "200km",
                    "to" : "400km",
                    "pin.location" : {
                        "lat" : 40,
                        "lon" : -70
                    }
                }
            }
        }
    }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>Supports the same point location parameter and query options as the
<a class="link" href="query-dsl-geo-distance-query.html" title="Geo Distance Query">geo_distance</a>
filter. And also support the common parameters for range (lt, lte, gt,
gte, from, to, include_upper and include_lower).</p><h4><a id="_ignore_unmapped_6"></a>Ignore Unmapped<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.1/docs/reference/query-dsl/geo-distance-range-query.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>When set to <code class="literal">true</code> the <code class="literal">ignore_unmapped</code> option will ignore an unmapped field
and will not match any documents for this query. This can be useful when
querying multiple indexes which might have different mappings. When set to
<code class="literal">false</code> (the default value) the query will throw an exception if the field
is not mapped.</p></div><div xmlns="" class="navfooter"><span class="prev"><a href="query-dsl-geo-distance-query.html">
              « 
              Geo Distance Query</a>
           
        </span><span class="next">
           
          <a href="query-dsl-geo-polygon-query.html">Geo Polygon Query
               »
            </a></span></div></body></html>