<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Compound Word Token Filter
        | Elasticsearch Reference [5.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [5.x]" /><link rel="up" href="analysis-tokenfilters.html" title="Token Filters" /><link rel="prev" href="analysis-synonym-graph-tokenfilter.html" title="Synonym Graph Token Filter" /><link rel="next" href="analysis-reverse-tokenfilter.html" title="Reverse Token Filter" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/5.x" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [5.x]
    </a></span> » <span class="breadcrumb-link"><a href="analysis.html">Analysis</a></span> » <span class="breadcrumb-link"><a href="analysis-tokenfilters.html">Token Filters</a></span> » <span class="breadcrumb-node">Compound Word Token Filter</span></div><div xmlns="" class="navheader"><span class="prev"><a href="analysis-synonym-graph-tokenfilter.html">
              « 
              Synonym Graph Token Filter</a>
           
        </span><span class="next">
           
          <a href="analysis-reverse-tokenfilter.html">Reverse Token Filter
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="analysis-compound-word-tokenfilter"></a>Compound Word Token Filter<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">hyphenation_decompounder</code> and <code class="literal">dictionary_decompounder</code> token filters can
decompose compound words found in many German languages into word parts.</p><p>Both token filters require a dictionary of word parts, which can be provided
as:</p><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">word_list</code>
</p>
</td><td valign="top">
<p>
An array of words, specified inline in the token filter configuration, or
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">word_list_path</code>
</p>
</td><td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to a UTF-8
encoded file containing one word per line.
</p>
</td></tr></tbody></table></div><h3><a id="_hyphenation_decompounder"></a>Hyphenation decompounder<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The <code class="literal">hyphenation_decompounder</code> uses hyphenation grammars to find potential
subwords that are then checked against the word dictionary. The quality of the
output tokens is directly connected to the quality of the grammar file you
use. For languages like German they are quite good.</p><p>XML based hyphenation grammar files can be found in the
<a class="ulink" href="http://offo.sourceforge.net/hyphenation/#FOP+XML+Hyphenation+Patterns" target="_top">Objects For Formatting Objects</a>
(OFFO) Sourceforge project. Currently only FOP v1.2 compatible hyphenation files
are supported. You can download <a class="ulink" href="https://sourceforge.net/projects/offo/files/offo-hyphenation/1.2/offo-hyphenation_v1.2.zip/download" target="_top">offo-hyphenation_v1.2.zip</a>
directly and look in the <code class="literal">offo-hyphenation/hyph/</code> directory.
Credits for the hyphenation code go to the Apache FOP project .</p><h3><a id="_dictionary_decompounder"></a>Dictionary decompounder<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The <code class="literal">dictionary_decompounder</code> uses a brute force approach in conjunction with
only the word dictionary to find subwords in a compound word. It is much
slower than the hyphenation decompounder but can be used as a first start to
check the quality of your dictionary.</p><h3><a id="_compound_token_filter_parameters"></a>Compound token filter parameters<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The following parameters can be used to configure a compound word token
filter:</p><div class="horizontal"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p>
<code class="literal">type</code>
</p>
</td><td valign="top">
<p>
Either <code class="literal">dictionary_decompounder</code> or <code class="literal">hyphenation_decompounder</code>.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">word_list</code>
</p>
</td><td valign="top">
<p>
A array containing a list of words to use for the word dictionary.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">word_list_path</code>
</p>
</td><td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to the word dictionary.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">hyphenation_patterns_path</code>
</p>
</td><td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to a FOP XML hyphenation pattern file. (required for hyphenation)
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">min_word_size</code>
</p>
</td><td valign="top">
<p>
Minimum word size. Defaults to 5.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">min_subword_size</code>
</p>
</td><td valign="top">
<p>
Minimum subword size. Defaults to 2.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">max_subword_size</code>
</p>
</td><td valign="top">
<p>
Maximum subword size. Defaults to 15.
</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">only_longest_match</code>
</p>
</td><td valign="top">
<p>
Whether to include only the longest matching subword or not.  Defaults to <code class="literal">false</code>
</p>
</td></tr></tbody></table></div><p>Here is an example:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">index :
    analysis :
        analyzer :
            myAnalyzer2 :
                type : custom
                tokenizer : standard
                filter : [myTokenFilter1, myTokenFilter2]
        filter :
            myTokenFilter1 :
                type : dictionary_decompounder
                word_list: [one, two, three]
            myTokenFilter2 :
                type : hyphenation_decompounder
                word_list_path: path/to/words.txt
                hyphenation_patterns_path: path/to/fop.xml
                max_subword_size : 22</pre></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="analysis-synonym-graph-tokenfilter.html">
              « 
              Synonym Graph Token Filter</a>
           
        </span><span class="next">
           
          <a href="analysis-reverse-tokenfilter.html">Reverse Token Filter
               »
            </a></span></div></body></html>