<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Path to data on disk
        | Elasticsearch Reference [5.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [5.x]" /><link rel="up" href="breaking-changes-5.0.html" title="Breaking changes in 5.0" /><link rel="prev" href="breaking_50_fs.html" title="Filesystem related changes" /><link rel="next" href="breaking_50_aggregations_changes.html" title="Aggregation changes" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/5.x" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [5.x]
    </a></span> » <span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span> » <span class="breadcrumb-link"><a href="breaking-changes-5.0.html">Breaking changes in 5.0</a></span> » <span class="breadcrumb-node">Path to data on disk</span></div><div xmlns="" class="navheader"><span class="prev"><a href="breaking_50_fs.html">
              « 
              Filesystem related changes</a>
           
        </span><span class="next">
           
          <a href="breaking_50_aggregations_changes.html">Aggregation changes
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_path_to_data_on_disk"></a>Path to data on disk<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/migration/migrate_5_0/fs.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>In prior versions of Elasticsearch, the <code class="literal">path.data</code> directory included a folder
for the cluster name, so that data was in a folder such as
<code class="literal">$DATA_DIR/$CLUSTER_NAME/nodes/$nodeOrdinal</code>. In 5.0 the cluster name as a
directory is deprecated. Data will now be stored in
<code class="literal">$DATA_DIR/nodes/$nodeOrdinal</code> if there is no existing data. Upon startup,
Elasticsearch will check to see if the cluster folder exists and has data, and
will read from it if necessary. In Elasticsearch 6.0 this backwards-compatible
behavior will be removed.</p><p>If you are using a multi-cluster setup with both instances of Elasticsearch
pointing to the same data path, you will need to add the cluster name to the
data path so that different clusters do not overwrite data.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_local_files"></a>Local files<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/5.x/docs/reference/migration/migrate_5_0/fs.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Prior to 5.0, nodes that were marked with both <code class="literal">node.data: false</code> and <code class="literal">node.master: false</code> (or the now removed <code class="literal">node.client: true</code>)
didn’t write any files or folder to disk. 5.x added persistent node ids, requiring nodes to store that information. As such, all
node types will write a small state file to their data folders.</p></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="breaking_50_fs.html">
              « 
              Filesystem related changes</a>
           
        </span><span class="next">
           
          <a href="breaking_50_aggregations_changes.html">Aggregation changes
               »
            </a></span></div></body></html>