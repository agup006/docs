<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Index Modules
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="index.html" title="Elasticsearch Reference [master]" /><link rel="prev" href="modules-cross-cluster-search.html" title="Cross cluster search" /><link rel="next" href="index-modules-analysis.html" title="Analysis" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/master" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-node">Index Modules</span></div><div xmlns="" class="navheader"><span class="prev"><a href="modules-cross-cluster-search.html">
              « 
              Cross cluster search</a>
           
        </span><span class="next">
           
          <a href="index-modules-analysis.html">Analysis
               »
            </a></span></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="index-modules"></a>Index Modules<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/index-modules.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><div class="partintro"><div></div><p>Index Modules are modules created per index and control all aspects related to
an index.</p><h2><a id="index-modules-settings"></a>Index Settings<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/index-modules.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2><p>Index level settings can be set per-index.  Settings may be:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="emphasis"><em>static</em></span>
</span></dt><dd>
They can only be set at index creation time or on a
<a class="link" href="indices-open-close.html" title="Open / Close Index API">closed index</a>.
</dd><dt><span class="term">
<span class="emphasis"><em>dynamic</em></span>
</span></dt><dd>
They can be changed on a live index using the
<a class="link" href="indices-update-settings.html" title="Update Indices Settings">update-index-settings</a> API.
</dd></dl></div><div xmlns="" class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p xmlns="http://www.w3.org/1999/xhtml">Changing static or dynamic index settings on a closed index could
result in incorrect settings that are impossible to rectify without deleting
and recreating the index.</p></div></div><h3><a id="_static_index_settings"></a>Static index settings<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/index-modules.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Below is a list of all <span class="emphasis"><em>static</em></span> index settings that are not associated with any
specific index module:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">index.number_of_shards</code>
</span></dt><dd>
    The number of primary shards that an index should have.  Defaults to 5.
    This setting can only be set at index creation time.  It cannot be
    changed on a closed index. Note: the number of shards are limited to <code class="literal">1024</code> per
    index. This limitation is a safety limit to prevent accidental creation of indices
    that can destabilize a cluster due to resource allocation. The limit can be modified
    by specifying <code class="literal">export ES_JAVA_OPTS="-Des.index.max_number_of_shards=128"</code> system property on every node that is
    part of the cluster.
</dd><dt><span class="term">
<code class="literal">index.shard.check_on_startup</code>
</span></dt><dd><p class="simpara"><span xmlns="" class="experimental">
      [<span class="experimental_title">experimental</span>]
      <span class="detail">This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</span></span> Whether or not shards should be checked for corruption before opening. When
corruption is detected, it will prevent the shard from being opened. Accepts:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">false</code>
</span></dt><dd>
    (default) Don’t check for corruption when opening a shard.
</dd><dt><span class="term">
<code class="literal">checksum</code>
</span></dt><dd>
    Check for physical corruption.
</dd><dt><span class="term">
<code class="literal">true</code>
</span></dt><dd>
    Check for both physical and logical corruption. This is much more
    expensive in terms of CPU and memory usage.
</dd><dt><span class="term">
<code class="literal">fix</code>
</span></dt><dd>
    Check for both physical and logical corruption.  Segments that were reported
    as corrupted will be automatically removed. This option <span class="strong"><strong>may result in data loss</strong></span>.
    Use with extreme caution!
</dd></dl></div><p class="simpara">Checking shards may take a lot of time on large indices.</p></dd><dt><span class="term">
<a id="index-codec"></a> <code class="literal">index.codec</code>
</span></dt><dd>
    The <code class="literal">default</code> value compresses stored data with LZ4
    compression, but this can be set to <code class="literal">best_compression</code>
    which uses <a class="ulink" href="https://en.wikipedia.org/wiki/DEFLATE" target="_top">DEFLATE</a> for a higher
    compression ratio, at the expense of slower stored fields performance.
</dd><dt><span class="term">
<a id="routing-partition-size"></a> <code class="literal">index.routing_partition_size</code>
</span></dt><dd>
    The number of shards a custom <a class="link" href="mapping-routing-field.html" title="_routing field">routing</a> value can go to.
    Defaults to 1 and can only be set at index creation time. This value must be less
    than the <code class="literal">index.number_of_shards</code> unless the <code class="literal">index.number_of_shards</code> value is also 1.
    See <a class="xref" href="mapping-routing-field.html#routing-index-partition" title="Routing to an index partition">Routing to an index partition</a> for more details about how this setting is used.
</dd></dl></div><h3><a id="dynamic-index-settings"></a>Dynamic index settings<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/index-modules.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Below is a list of all <span class="emphasis"><em>dynamic</em></span> index settings that are not associated with any
specific index module:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">index.number_of_replicas</code>
</span></dt><dd>
    The number of replicas each primary shard has.  Defaults to 1.
</dd><dt><span class="term">
<code class="literal">index.auto_expand_replicas</code>
</span></dt><dd>
    Auto-expand the number of replicas based on the number of available nodes.
    Set to a dash delimited lower and upper bound (e.g. <code class="literal">0-5</code>) or use <code class="literal">all</code>
    for the upper bound (e.g. <code class="literal">0-all</code>).  Defaults to <code class="literal">false</code> (i.e. disabled).
</dd><dt><span class="term">
<code class="literal">index.refresh_interval</code>
</span></dt><dd>
    How often to perform a refresh operation, which makes recent changes to the
    index visible to search.  Defaults to <code class="literal">1s</code>.  Can be set to <code class="literal">-1</code> to disable
    refresh.
</dd><dt><span class="term">
<code class="literal">index.max_result_window</code>
</span></dt><dd>
    The maximum value of <code class="literal">from + size</code> for searches to this index. Defaults to
    <code class="literal">10000</code>. Search requests take heap memory and time proportional to
    <code class="literal">from + size</code> and this limits that memory. See
    <a class="link" href="search-request-scroll.html" title="Scroll">Scroll</a> or <a class="link" href="search-request-search-after.html" title="Search After">Search After</a> for a more efficient alternative
    to raising this.
</dd><dt><span class="term">
<code class="literal">index.max_rescore_window</code>
</span></dt><dd>
    The maximum value of <code class="literal">window_size</code> for <code class="literal">rescore`s in searches of this index.
    Defaults to `index.max_result_window</code> which defaults to <code class="literal">10000</code>. Search
    requests take heap memory and time proportional to
    <code class="literal">max(window_size, from + size)</code> and this limits that memory.
</dd><dt><span class="term">
<code class="literal">index.blocks.read_only</code>
</span></dt><dd>
    Set to <code class="literal">true</code> to make the index and index metadata read only, <code class="literal">false</code> to
    allow writes and metadata changes.
</dd><dt><span class="term">
<code class="literal">index.blocks.read</code>
</span></dt><dd>
    Set to <code class="literal">true</code> to disable read operations against the index.
</dd><dt><span class="term">
<code class="literal">index.blocks.write</code>
</span></dt><dd>
    Set to <code class="literal">true</code> to disable write operations against the index.
</dd><dt><span class="term">
<code class="literal">index.blocks.metadata</code>
</span></dt><dd>
    Set to <code class="literal">true</code> to disable index metadata reads and writes.
</dd><dt><span class="term">
<code class="literal">index.max_refresh_listeners</code>
</span></dt><dd>
    Maximum number of refresh listeners available on each shard of the index.
    These listeners are used to implement <a class="link" href="docs-refresh.html" title="?refresh"><code class="literal">refresh=wait_for</code></a>.
</dd></dl></div><h3><a id="_settings_in_other_index_modules"></a>Settings in other index modules<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/index-modules.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Other index settings are available in index modules:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="analysis.html" title="Analysis">Analysis</a>
</span></dt><dd>
    Settings to define analyzers, tokenizers, token filters and character
    filters.
</dd><dt><span class="term">
<a class="link" href="index-modules-allocation.html" title="Index Shard Allocation">Index shard allocation</a>
</span></dt><dd>
    Control over where, when, and how shards are allocated to nodes.
</dd><dt><span class="term">
<a class="link" href="index-modules-mapper.html" title="Mapper">Mapping</a>
</span></dt><dd>
    Enable or disable dynamic mapping for an index.
</dd><dt><span class="term">
<a class="link" href="index-modules-merge.html" title="Merge">Merging</a>
</span></dt><dd>
    Control over how shards are merged by the background merge process.
</dd><dt><span class="term">
<a class="link" href="index-modules-similarity.html" title="Similarity module">Similarities</a>
</span></dt><dd>
    Configure custom similarity settings to customize how search results are
    scored.
</dd><dt><span class="term">
<a class="link" href="index-modules-slowlog.html" title="Slow Log">Slowlog</a>
</span></dt><dd>
    Control over how slow queries and fetch requests are logged.
</dd><dt><span class="term">
<a class="link" href="index-modules-store.html" title="Store">Store</a>
</span></dt><dd>
    Configure the type of filesystem used to access shard data.
</dd><dt><span class="term">
<a class="link" href="index-modules-translog.html" title="Translog">Translog</a>
</span></dt><dd>
    Control over the transaction log and background flush operations.
</dd></dl></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="modules-cross-cluster-search.html">
              « 
              Cross cluster search</a>
           
        </span><span class="next">
           
          <a href="index-modules-analysis.html">Analysis
               »
            </a></span></div></body></html>