<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Multi termvectors API
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="docs.html" title="Document APIs" /><link rel="prev" href="docs-termvectors.html" title="Term Vectors" /><link rel="next" href="docs-refresh.html" title="?refresh" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/master" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="docs.html">Document APIs</a></span> » <span class="breadcrumb-node">Multi termvectors API</span></div><div xmlns="" class="navheader"><span class="prev"><a href="docs-termvectors.html">
              « 
              Term Vectors</a>
           
        </span><span class="next">
           
          <a href="docs-refresh.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">?refresh</code>
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="docs-multi-termvectors"></a>Multi termvectors API<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/docs/multi-termvectors.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Multi termvectors API allows to get multiple termvectors at once. The
documents from which to retrieve the term vectors are specified by an index,
type and id. But the documents could also be artificially provided in the request itself.</p><p>The response includes a <code class="literal">docs</code>
array with all the fetched termvectors, each element having the structure
provided by the <a class="link" href="docs-termvectors.html" title="Term Vectors">termvectors</a>
API. Here is an example:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">POST /_mtermvectors
{
   "docs": [
      {
         "_index": "twitter",
         "_type": "tweet",
         "_id": "2",
         "term_statistics": true
      },
      {
         "_index": "twitter",
         "_type": "tweet",
         "_id": "1",
         "fields": [
            "message"
         ]
      }
   ]
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>See the <a class="link" href="docs-termvectors.html" title="Term Vectors">termvectors</a> API for a description of possible parameters.</p><p>The <code class="literal">_mtermvectors</code> endpoint can also be used against an index (in which case it
is not required in the body):</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">POST /twitter/_mtermvectors
{
   "docs": [
      {
         "_type": "tweet",
         "_id": "2",
         "fields": [
            "message"
         ],
         "term_statistics": true
      },
      {
         "_type": "tweet",
         "_id": "1"
      }
   ]
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>And type:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">POST /twitter/tweet/_mtermvectors
{
   "docs": [
      {
         "_id": "2",
         "fields": [
            "message"
         ],
         "term_statistics": true
      },
      {
         "_id": "1"
      }
   ]
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>If all requested documents are on same index and have same type and also the parameters are the same, the request can be simplified:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">POST /twitter/tweet/_mtermvectors
{
    "ids" : ["1", "2"],
    "parameters": {
        "fields": [
                "message"
        ],
        "term_statistics": true
    }
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div><p>Additionally, just like for the <a class="link" href="docs-termvectors.html" title="Term Vectors">termvectors</a>
API, term vectors could be generated for user provided documents.  The mapping used is
determined by <code class="literal">_index</code> and <code class="literal">_type</code>.</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">POST /_mtermvectors
{
   "docs": [
      {
         "_index": "twitter",
         "_type": "tweet",
         "doc" : {
            "user" : "John Doe",
            "message" : "twitter test test test"
         }
      },
      {
         "_index": "twitter",
         "_type": "test",
         "doc" : {
           "user" : "Jane Doe",
           "message" : "Another twitter test ..."
         }
      }
   ]
}</pre></div><div xmlns="" class="console_widget" data-snippet=":CONSOLE:"></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="docs-termvectors.html">
              « 
              Term Vectors</a>
           
        </span><span class="next">
           
          <a href="docs-refresh.html"><code xmlns="http://www.w3.org/1999/xhtml" class="literal">?refresh</code>
               »
            </a></span></div></body></html>