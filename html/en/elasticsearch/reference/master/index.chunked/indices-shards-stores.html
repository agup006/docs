<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Indices Shard Stores
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="indices.html" title="Indices APIs" /><link rel="prev" href="indices-recovery.html" title="Indices Recovery" /><link rel="next" href="indices-clearcache.html" title="Clear Cache" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Elasticsearch/Reference/master" /></head><body><div xmlns="" class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="indices.html">Indices APIs</a></span> » <span class="breadcrumb-node">Indices Shard Stores</span></div><div xmlns="" class="navheader"><span class="prev"><a href="indices-recovery.html">
              « 
              Indices Recovery</a>
           
        </span><span class="next">
           
          <a href="indices-clearcache.html">Clear Cache
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="indices-shards-stores"></a>Indices Shard Stores<a xmlns="" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/indices/shard-stores.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Provides store information for shard copies of indices.
Store information reports on which nodes shard copies exist, the shard
copy allocation ID, a unique identifier for each shard copy, and any exceptions
encountered while opening the shard index or from earlier engine failure.</p><p>By default, only lists store information for shards that have at least one
unallocated copy. When the cluster health status is yellow, this will list
store information for shards that have at least one unassigned replica.
When the cluster health status is red, this will list store information
for shards, which has unassigned primaries.</p><p>Endpoints include shard stores information for a specific index, several
indices, or all:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">curl -XGET 'http://localhost:9200/test/_shard_stores'
curl -XGET 'http://localhost:9200/test1,test2/_shard_stores'
curl -XGET 'http://localhost:9200/_shard_stores'</pre></div><p>The scope of shards to list store information can be changed through
<code class="literal">status</code> param. Defaults to <span class="emphasis"><em>yellow</em></span> and <span class="emphasis"><em>red</em></span>. <span class="emphasis"><em>yellow</em></span> lists store information of
shards with at least one unassigned replica and <span class="emphasis"><em>red</em></span> for shards with unassigned
primary shard.
Use <span class="emphasis"><em>green</em></span> to list store information for shards with all assigned copies.</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">curl -XGET 'http://localhost:9200/_shard_stores?status=green'</pre></div><p>Response:</p><p>The shard stores information is grouped by indices and shard ids.</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-js">{
    ...
   "0": { <a id="CO132-1"></a><span xmlns=""><img src="images/icons/callouts/1.png" alt="" /></span>
        "stores": [ <a id="CO132-2"></a><span xmlns=""><img src="images/icons/callouts/2.png" alt="" /></span>
            {
                "sPa3OgxLSYGvQ4oPs-Tajw": { <a id="CO132-3"></a><span xmlns=""><img src="images/icons/callouts/3.png" alt="" /></span>
                    "name": "node_t0",
                    "transport_address": "local[1]",
                    "attributes": {
                        "mode": "local"
                    }
                },
                "allocation_id": "2iNySv_OQVePRX-yaRH_lQ", <a id="CO132-4"></a><span xmlns=""><img src="images/icons/callouts/4.png" alt="" /></span>
                "allocation" : "primary" | "replica" | "unused", <a id="CO132-5"></a><span xmlns=""><img src="images/icons/callouts/5.png" alt="" /></span>
                "store_exception": ... <a id="CO132-6"></a><span xmlns=""><img src="images/icons/callouts/6.png" alt="" /></span>
            },
            ...
        ]
   },
    ...
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-1"><span xmlns=""><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The key is the corresponding shard id for the store information
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-2"><span xmlns=""><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
A list of store information for all copies of the shard
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-3"><span xmlns=""><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The node information that hosts a copy of the store, the key
    is the unique node id.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-4"><span xmlns=""><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The allocation id of the store copy
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-5"><span xmlns=""><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The status of the store copy, whether it is used as a
    primary, replica or not used at all
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO132-6"><span xmlns=""><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Any exception encountered while opening the shard index or
    from earlier engine failure
</p></td></tr></table></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="indices-recovery.html">
              « 
              Indices Recovery</a>
           
        </span><span class="next">
           
          <a href="indices-clearcache.html">Clear Cache
               »
            </a></span></div></body></html>