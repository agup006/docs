<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Logging
        | Metricbeat Reference [5.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [5.3]" /><link rel="up" href="metricbeat-configuration-options.html" title="Configuration Options (Reference)" /><link rel="prev" href="configuration-dashboards.html" title="Dashboards" /><link rel="next" href="_reload_configuration.html" title="Reload Configuration" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Docs/Metricbeat/Reference/5.3" /></head><body><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [5.3]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-metricbeat.html">Configuring Metricbeat</a></span> » <span class="breadcrumb-link"><a href="metricbeat-configuration-options.html">Configuration Options (Reference)</a></span> » <span class="breadcrumb-node">Logging</span></div><div xmlns="" class="navheader"><span class="prev"><a href="configuration-dashboards.html">
              « 
              Dashboards</a>
           
        </span><span class="next">
           
          <a href="_reload_configuration.html">Reload Configuration
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-logging"></a>Logging<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">logging</code> section of the <code class="literal">metricbeat.yml</code> config file contains options
for configuring the Beats logging output. The logging system can write logs to
syslog or rotate log files. If logging is not explicitly configured, file output
is used on Windows systems, and syslog output is used on Linux and OS X.</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">logging.level: warning
logging.to_files: true
logging.to_syslog: false
logging.files:
  path: /var/log/mybeat
  name: mybeat.log
  keepfiles: 7</pre></div><p>In addition to the logging system, the logging output configuration can be
modified from the command line.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_logging_options"></a>Logging Options<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You can specify the following options in the <code class="literal">logging</code> section of the <code class="literal">metricbeat.yml</code> config file:</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_to_syslog"></a>to_syslog<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If enabled, sends all logging output to syslog. The default
value is false.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_to_files"></a>to_files<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Writes all logging output to files subject to file rotation. The
default value is true.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_level"></a>level<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Minimum log level. One of debug, info, warning, error or critical. If debug is
used, but no selectors are configured, the <code class="literal">*</code> selector will be used.
The default log level is "info".</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_selectors"></a>selectors<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The list of debugging-only selector tags used by different Beats components. Use <code class="literal">*</code>
to enable debug output for all components. For example add <code class="literal">publish</code> to display
all the debug messages related to event publishing. When starting the Beat,
selectors can be overwritten using the <code class="literal">-d</code> command line option (<code class="literal">-d</code> also sets
the debug log level).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_metrics_enabled"></a>metrics.enabled<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If enabled, Metricbeat periodically logs its internal metrics that have
changed in the last period. For each metric that changed, the delta from the
value at the beginning of the period is logged. Also, the total values for
all non-zero internal metrics are logged on shutdown. The default is true.</p><p>Here is an example log line:</p><div xmlns="" class="pre_wrapper"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">2016/07/04 12:16:10.821047 logp.go:194: INFO Non-zero metrics in the last 30s:  libbeatEsPublishedAndAckedEvents=18 libbeatEsPublishWriteBytes=10045</pre></div><p>Note that we currently offer no backwards compatible guarantees for the internal
metrics and for this reason they are also not documented.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_metrics_period"></a>metrics.period<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The period after which to log the internal metrics. The default is 30s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_files_path"></a>files.path<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The directory that log files are written to. The default is the logs path. See the
<a class="xref" href="directory-layout.html" title="Directory Layout">Directory Layout</a> section for details.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_files_name"></a>files.name<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The name of the file that logs are written to. By default, the name of the Beat
is used.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_files_rotateeverybytes"></a>files.rotateeverybytes<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The maximum size of a log file. If the limit is reached, a new log file is generated.
The default size limit is 10485760 (10 MB).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_files_keepfiles"></a>files.keepfiles<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The number of most recent rotated log files to keep on disk. Older files are
deleted during log rotation. The default value is 7. The <code class="literal">keepfiles</code> options has to be
in the range of 2 to 1024 files.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_logging_format"></a>Logging Format<a xmlns="" href="https://github.com/elastic/beats/edit/5.3/libbeat/docs/loggingconfig.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The logging format is different for each logging type:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
to syslog: Syslog adds the timestamp itself.
</li><li class="listitem">
to file: RFC 3339 format is used for the timestamp: <code class="literal">2006-01-02T15:04:05Z07:00 WARN log-message</code>. The format includes the timezone followed by the logging level.
</li><li class="listitem">
to stderr: UTC format is used for the timestamp: <code class="literal">2015/11/12 09:03:37.369262
geolite.go:52: WARN log-message</code>. The format includes the UTC timestamp with
the milliseconds, then the name of the caller that sent the log entry followed
by the logging level. This option should be used mainly for debugging.
</li></ul></div></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="configuration-dashboards.html">
              « 
              Dashboards</a>
           
        </span><span class="next">
           
          <a href="_reload_configuration.html">Reload Configuration
               »
            </a></span></div></body></html>